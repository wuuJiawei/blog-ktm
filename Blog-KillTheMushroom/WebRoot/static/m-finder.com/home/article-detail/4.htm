<!doctype html>
<html lang="cmn-CN">
    <head>
        <meta charset=UTF-8"utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="keywords" content="M-finderåšå®¢ï¼Œlaravelï¼Œlayuiï¼ŒæŠ€æœ¯åˆ†äº«ï¼ŒåŸåˆ›"/>
        <meta name="description" content="M-finder"/>
        <meta name="csrf-token" content="GrrWtA1vTWDlXuXG42yHpPyrYd6Yvtav83BcGYKf">
        <title>M-finder - åˆ ç¹å°±ç®€,å‘ç°æ›´å¤š</title>
		<script src="../../public/js/layui/layui.js" tppabs="http://www.m-finder.com/public/js/layui/layui.js"></script>
        <script src="../../public/js/jquery-3.2.1.min.js" tppabs="http://www.m-finder.com/public/js/jquery-3.2.1.min.js"></script>
        <script src="../../public/js/common.js" tppabs="http://www.m-finder.com/public/js/common.js"></script>
		<script src="../../public/js/home.js" tppabs="http://www.m-finder.com/public/js/home.js"></script>
		<script src="../../public/js/musicplayer.js" tppabs="http://www.m-finder.com/public/js/musicplayer.js"></script>
		
        <link href="../../public/js/layui/css/layui.css" tppabs="http://www.m-finder.com/public/js/layui/css/layui.css" rel="stylesheet">
        <link href="../../public/css/global.css" tppabs="http://www.m-finder.com/public/css/global.css" rel="stylesheet">
        <link href="../../public/css/home.css" tppabs="http://www.m-finder.com/public/css/home.css" rel="stylesheet">
        <link rel="icon" href="http://www.m-finder.com/public/favicon.ico"> 
		
    </head>
    <body class="home blog ">

        <div class="hfeed site">
            <header id="header" class="home-header blog-background banner-mask">
                <div class="nav-header container">       
                    <div class="nav-header-container" >
                                                <a class="back-home" href="../../index.htm" tppabs="http://www.m-finder.com/" data-id="1">åšå®¢é¦–é¡µ</a>
                                                <a class="back-home" href="../category/2.htm" tppabs="http://www.m-finder.com/home/category/2" data-id="2">é—²è¨€èµ˜è¯­</a>
                                                <a class="back-home" href="../category/3.htm" tppabs="http://www.m-finder.com/home/category/3" data-id="3">æŠ€æœ¯è®¨è®º</a>
                                                <a class="back-home" href="../single-page/4.htm" tppabs="http://www.m-finder.com/home/single-page/4" data-id="4">å…³äº</a>
                                            </div>            
                </div>
                <div class="header-wrap">
                    <div class="container">
                        <div class="home-info-container">
                            <a href="../../index.htm" tppabs="http://www.m-finder.com/">
                                <h2>M-finder</h2>
                            </a>
                            <h4 id="web_title_desc">åˆ ç¹å°±ç®€,å‘ç°æ›´å¤š</h4>
                                                        <div class='log-box'>
                                <a class="reg" href="../../register.htm" tppabs="http://www.m-finder.com/register">æ³¨å†Œ</a>
                                <a class="login" href="../../login.htm" tppabs="http://www.m-finder.com/login">ç™»å½•</a>
                            </div>
                                                    </div>
                    </div>
                </div>
            </header>
        </div>

        <div class="main layui-clear ">
            
<script id="comment_tpl" type="text/html">
    <%# for(var i = 0; i < d.data.length; i++){ %>
    <li id="comment-<% d.data[i].id %>"  class="comment even thread-even depth-1">
        <article class="comment-body" id="comment">
            <footer class="comment-meta">
                <div class="comment-author vcard">
                    <img src="<% d.data[i].avatar===null ? '/public/images/avatar/'+parseInt(11*Math.random()) +'.jpg' : d.data[i].avatar %>" width="64" height="64" alt="<% d.data[i].name %>" class="avatar avatar-42 wp-user-avatar wp-user-avatar-42 alignnone photo" />                    						
                    <b class="fn"><% d.data[i].name %></b><span class="says">ï¼š</span>					
                </div>
                <div class="comment-metadata">
                    <time datetime="<% d.data[i].creted_at %>"> <% layui.util.timeAgo(d.data[i].created_at) %> </time>
                </div>
            </footer>
            <div class="comment-content">
                <% d.data[i].content %>
            </div>
            <div class="reply">
                <a rel="nofollow" class="comment-reply-link" href="javascript:void(0)" onclick="jump_comment(this)" data-uid="<% d.data[i].uid %>" data-name="<% d.data[i].name %>">å›å¤</a>
            </div>
        </article>
    </li>
    <%# } %>
</script>

<div id="main" class="content homepage" data-id="3" data-aid="4">  
    <div class="content-area container">
        <div class="site-content" id="article_content">
            <div class="content-area container">
                <header class="entry-header page-header">
                    <h1 class="entry-title page-title">laravel ä½¿ç”¨ç¬”è®°</h1>		
                    <div class="entry-meta">
                        <time class="entry-date published updated" datetime="2017-09-11 14:45:12">2017-09-11 14:45:12</time>			
                        <span class="separator">/</span>
                        190 é˜…		
                        <span class="separator" >/</span>
                        <span id='like_num'>5</span> èµ		
                    </div>
                </header>
                <div class="site-content">
                    <section class="post-content">
                        <div class="single-post-inner grap detail-body photos">
                            å…ˆä»æœ€ç®€å•çš„å¼€å§‹

[pre]
å®‰è£…
[/pre]

laravel çš„å®‰è£…éœ€è¦å€ŸåŠ© composer ï¼Œç™¾åº¦ä¸€ä¸‹ï¼Œå®‰è£…ï¼Œç„¶åå» GitHub ä¸‹è½½ laravel

åˆ‡æ¢åˆ°é¡¹ç›®æ–‡ä»¶å¤¹ ï¼Œåœ¨ä¸é€‰ä¸­ä»»ä½•æ–‡ä»¶çš„å‰æä¸‹æŒ‰ä½ shift + é¼ æ ‡å³é”®ï¼Œæ‰“å¼€ Powershell æˆ–è€… cmd

è¾“å…¥ï¼šcomposer install 

å°† .env.example å¦å­˜ä¸º .env

ä¿®æ”¹æ•°æ®åº“é…ç½®ä¿¡æ¯å’Œé‚®ä»¶ç³»ç»Ÿé…ç½®ä¿¡æ¯

ç„¶ååœ¨å‘½ä»¤è¡Œè¾“å…¥ï¼šphp artisan key:generate ç”Ÿæˆå¯†é’¥

ç„¶åé…ç½®ä¸€ä¸ªæœ¬åœ°åŸŸåæŒ‡å‘ public æ–‡ä»¶å¤¹ï¼Œç„¶åï¼Œå°±å¥½äº†ã€‚face[å“ˆå“ˆ] 

é‚®ä»¶ç³»ç»Ÿé…ç½®ç¤ºä¾‹ï¼š
[pre]
MAIL_DRIVER=smtp
MAIL_HOST=smtp.mxhichina.com
MAIL_PORT=25
MAIL_USERNAME=m@m-finder.com
MAIL_PASSWORD=é‚®ç®±å¯†ç 
MAIL_FROM_NAME=M-finder
MAIL_FROM_ADDRESS=m@m-finder.com
MAIL_ENCRYPTION=null
[/pre]

[pre]
å¤šè§†å›¾å…±äº«æ•°æ®
[/pre]

åœ¨ app\Providers æ–‡ä»¶å¤¹ä¸‹ boot() æ–¹æ³•ä¸­å†™å…¥è¦å…±äº«çš„æ•°æ®å³å¯ , ä¾‹å¦‚ :

[pre]
public function boot() {
	$links = Link::orderBy('id', 'desc')->get();
	$web_info = SysConfig::first();
	$menus =  Menu::select('id', 'name', 'type', 'seo_title', 'seo_describe', 'link')
        ->where('pid', '=', 0)
        ->where('is_show', '=', '2')
        ->get();

	view()->share('links', $links);
	view()->share('web_info', $web_info);
	view()->share('menus', $menus);
}
[/pre]

è¿™æ ·å†™å®Œä»¥åï¼Œä½ ä¼šå‘ç°ä½ çš„ migrate æŒ‚äº†face[å·ç¬‘] ï¼Œè§£å†³åŠæ³•æ˜¯ä½¿ç”¨é—­åŒ…ï¼Œå³ composer æ–¹æ³•ï¼š
[pre]
public function boot() {
        Schema::defaultStringLength(191); //è§£å†³æ•°æ®åº“ç‰ˆæœ¬è¿‡ä½æ— æ³•æ‰§è¡Œ migrate

        view()->composer(['layouts.home', 'layouts.userhome','layouts.admin'], function($view) {
            $links = Link::orderBy('id', 'desc')->get();
            $web_info = SysConfig::first();
            $menus = Menu::select('id', 'name', 'type', 'seo_title', 'seo_describe', 'link')
            ->where('pid', '=', 0)
            ->where('is_show', '=', '2')
            ->get();
            $view->with(['links' => $links, 'web_info' => $web_info, 'menus' => $menus]);
        });
    }
[/pre]

[pre]
æ–‡ä»¶ä¸Šä¼ 
[/pre]

config æ–‡ä»¶å¤¹ä¸‹æœ‰ä¸€ä¸ª filesystems.phpï¼Œé‡Œè¾¹æ˜¯é»˜è®¤çš„ä¸Šä¼ åœ°å€ï¼Œå¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€è¦åšä¿®æ”¹æˆ–è€…æ·»åŠ 

ä¸Šä¼ çš„æ§åˆ¶å™¨ä»£ç ï¼š

[pre]
if ($file->isValid()) {
	if ($file->getClientSize() > 2097152) {
		return $this->json_response(1, "è¯·ä¸Šä¼ å°äº 2 mb çš„å›¾ç‰‡", 0);
	}
	$ext = $file->getClientOriginalExtension();
	$realPath = $file->getRealPath();
	$type = $file->getClientMimeType();
	$filename = date('Y-m-d-H-i-s') . '-' . uniqid() . '.' . $ext;
	$bool = Storage::disk($path)->put($filename, file_get_contents($realPath));
	$url = Storage::disk($path)->url($filename);
	if ($filename) {
		return ['code' => 0, 'msg' => '', 'src' => $url, 
                 'data'=>['src'=>$url,'title'=>$filename]]; 
         //{"code": 0 ,"msg": "" ,"data": {"src": "å›¾ç‰‡è·¯å¾„","title": "å›¾ç‰‡åç§°"}  layui å›¾ç‰‡ä¸Šä¼ æ¥å£
	}
}
[/pre]

è®¿é—®ä¸Šä¼ åˆ°æœ¬åœ°çš„æ–‡ä»¶èµ„æºï¼Œéœ€è¦å…ˆåˆ›å»ºä¸€ä¸ªè½¯è¿æ¥ï¼šphp artisan storage:link

ä¸€ä¸ªé¡µé¢ä¸­ï¼Œå¦‚æœæœ‰ ajax è°ƒå–æ•°æ®çš„ï¼Œå¯ä»¥æŠŠ ajax ä½¿ç”¨çš„è·¯ç”±å’Œé¡µé¢çš„è·¯ç”±åç§°å®šä¹‰ä¸ºåŒä¸€ä¸ªï¼Œä¸åŒçš„æ˜¯é¡µé¢æ˜¯ get ï¼Œajax æ˜¯ post
                        </div>
                    </section>

                    <div class="post-actions">
                        <a href='javascript:;' onclick="like_this(this)" data-id="4"><i class="layui-icon"  style="font-size: 20px;  ">&#xe6c6;</i> </a> 
                    </div>
                    <div class="author-field u-textAlignCenter">
                        <img src="../../storage/app/public/avatar/2017-09-11-07-28-08-59b63b08c7202.jpg" tppabs="http://www.m-finder.com/storage/app/public/avatar/2017-09-11-07-28-08-59b63b08c7202.jpg" width="64" height="64" alt="Finder" class="avatar avatar-64 wp-user-avatar wp-user-avatar-64 alignnone photo" />                    
                        <h3>Finder</h3>
                                                        <span class="layui-badge-rim layui-bg-orange">ç®¡ç†å‘˜ </span>
                                                    <p>æƒ³å¼±å¼±çš„é—®ä¸‹åå°çœ‹åˆ°çš„200+ç”¨æˆ·éƒ½æ˜¯æ´»äººå—ï¼Ÿ</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="site-content" style='padding-top:5px;'>
            <div class="content-area container">
                <div id="comments" class="comments-area">
                    <h2 class="comments-title layui-hide " id='comment-title'> æ¡è¯„è®º</h2>     
                    <h2 class="comments-title layui-hide " id='comment-title' style="text-align: center">æ¶ˆç­é›¶å›å¤</h2>        
                    <ol class="comment-list layui-hide "  id='comment_list'>
         
                    </ol>
                    <section class="post-content" >
                        <div class="single-post-inner grap">
                            <div id="comment-page" data-total=""></div>
                        </div>
                    </section>
                    <div id="respond" class="comment-respond">
                        <h3 id="reply-title" class="comment-reply-title">å‘è¡¨è¯„è®º </h3>				
                        <form id="commentform" class="comment-form">
                            <p class="comment-form-comment">
                                <textarea id="comment_text"  cols="45" rows="8" maxlength="65525" aria-required="true" class="layui-textarea fly-editor"></textarea>
                                <input type="hidden" name="token" id="token" value="409864bf85bbe7f68188ce1911b22df9">
                            </p>
                            <p class="form-submit">
                                <input type="button"  onclick="submit_comment()" id="submit" class="submit-btn" value="å‘è¡¨è¯„è®º"> 
                            </p>				
                        </form>
                    </div>
                </div>
            </div>

        </div>
    </div>
</div>
        </div>
		
         
		




<div class="site-footer clearfix u-textAlignCenter footer-link ">
                å‹æƒ…é“¾æ¥ï¼š
        <span class="layui-breadcrumb" lay-separator="|" style="visibility: visible;">
                            <a href="javascript:if(confirm('http://www.guojiawei.com/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ËüÎ»ÓÚÆğÊ¼µØÖ·ÒÔÉèÖÃµÄ±ß½çÒÔÍâµÄÓò»òÂ·¾¶ÖĞ¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='http://www.guojiawei.com/'" tppabs="http://www.guojiawei.com/"  target="_blank" >See You</a>
                            <a href="javascript:if(confirm('http://fly.layui.com/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ËüÎ»ÓÚÆğÊ¼µØÖ·ÒÔÉèÖÃµÄ±ß½çÒÔÍâµÄÓò»òÂ·¾¶ÖĞ¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='http://fly.layui.com/'" tppabs="http://fly.layui.com/"  target="_blank" >flyç¤¾åŒº</a>
                            <a href="javascript:if(confirm('http://www.ok1219.com/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ËüÎ»ÓÚÆğÊ¼µØÖ·ÒÔÉèÖÃµÄ±ß½çÒÔÍâµÄÓò»òÂ·¾¶ÖĞ¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='http://www.ok1219.com/'" tppabs="http://www.ok1219.com/"  target="_blank" >ITå®‡å®™äººåšå®¢</a>
                    </span>
            </div>
    <footer class="footer">
        <div class="footavatar site-footer clearfix u-textAlignCenter">
            <img src="../../public/images/logo.jpg" tppabs="http://www.m-finder.com/public/images/logo.jpg" alt="logo" title="logo" class="footphoto">     
            <ul class="footinfo">
                <p class="fname"><a>M-finder</a></p>
                <p class="finfo">åˆ ç¹å°±ç®€,å‘ç°æ›´å¤š</p>
            </ul>
        </div>
        <div class="Copyright">
            <p>
                <a target="_blank" href="javascript:if(confirm('http://shang.qq.com/wpa/qunwpa?idkey=c4f068d3baefa9f0e31f6271d9bebe70e542830dd6e713d7689fd2a084a952e7  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ËüÎ»ÓÚÆğÊ¼µØÖ·ÒÔÉèÖÃµÄ±ß½çÒÔÍâµÄÓò»òÂ·¾¶ÖĞ¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='http://shang.qq.com/wpa/qunwpa?idkey=c4f068d3baefa9f0e31f6271d9bebe70e542830dd6e713d7689fd2a084a952e7'" tppabs="http://shang.qq.com/wpa/qunwpa?idkey=c4f068d3baefa9f0e31f6271d9bebe70e542830dd6e713d7689fd2a084a952e7">
                    <img border="0" src="../../../pub.idqqimg.com/wpa/images/group.png" tppabs="http://pub.idqqimg.com/wpa/images/group.png" alt="phpè¡Œä¸šäº¤æµ" title="phpè¡Œä¸šäº¤æµ">
                </a>
            </p><br>
            Powered by <a href="../../index.htm" tppabs="http://www.m-finder.com/" target="_blank">M-finder</a> 
        </div>
    </footer>
	<script>
	layui.use('element', function(){
	  var element = layui.element;
	});
	</script>
    </body>
</html>